$.fn.extend({slide:function(lb){if(lb.btn===undefined){lb.btn=true}if(lb.effect===undefined){lb.effect=false}else{lb.effect=true}lb.autoPlay=lb.autoPlay||false;lb.autoPlaySpeed=lb.autoPlaySpeed||3000;lb.dot=lb.dot||false;lb.dotColor=lb.dotColor||"#3963ec";var imgList=this.find("img");var imgLength=imgList.length;var imgWidth=imgList.eq(0).width()var n=0;imgList.hide();imgList.eq(0).show();this.css({textAlign:"center",position:"relative"})imgList.css({cursor:"pointer"})if(lb.effect){imgList.show();var nva_img=$("<div></div>");nva_img.appendTo(this);imgList.appendTo(nva_img);this.css({width:imgList.eq(0).width(),overflow:"hidden",textAlign:"center",margin:"0 auto"})this.find("div").eq(0).css({width:imgList.width()*imgLength})this.find("img").css({float:"left"})function rNext(){n++;if(n<imgLength){$(".ul_dot li").css({backgroundColor:"#FFF"})nva_img.animate({marginLeft:-(n*imgWidth)})$(".ul_dot li").eq(n).css({backgroundColor:lb.dotColor})}else{$(".ul_dot li").css({backgroundColor:"#FFF"})nva_img.animate({marginLeft:0})n=0;$("ul li").eq(n).css({backgroundColor:lb.dotColor})}}function lNext(){$(".ul_dot li").css({backgroundColor:"#FFF"})n--;if(n<0){nva_img.animate({marginLeft:-((imgLength-1)*imgWidth)})n=imgLength-1;$("ul li").eq(n).css({backgroundColor:lb.dotColor})}else{nva_img.animate({marginLeft:-(n*imgWidth)})$(".ul_dot li").eq(n).css({backgroundColor:lb.dotColor})}}}else{function rNext(){if(n<imgLength-1){$(".ul_dot li").css({backgroundColor:"#FFF"})imgList.eq(n++).fadeOut(function(){imgList.eq(n).fadeIn()$(".ul_dot li").eq(n).css({backgroundColor:lb.dotColor})})}else{$(".ul_dot li").css({backgroundColor:"#FFF"})imgList.eq(n).fadeOut(function(){n=0;imgList.eq(n).fadeIn();$(".ul_dot li").eq(n).css({backgroundColor:lb.dotColor})})}}function lNext(){$(".ul_dot li").css({backgroundColor:"#FFF"})if(n>0){imgList.eq(n--).fadeOut(function(){imgList.eq(n).fadeIn();$("ul li").eq(n).css({backgroundColor:lb.dotColor})})}else{imgList.eq(n).fadeOut(function(){n=imgLength-1;imgList.eq(n).fadeIn()$(".ul_dot li").eq(n).css({backgroundColor:lb.dotColor})})}}}if(lb.dot){var ul=$("<ul></ul>");ul.addClass("ul_dot")var j=0;ul.appendTo(this);for(var i=0;i<imgLength;i++){var li=$("<li></li>");li.appendTo("ul");li.html(j++)}$(".ul_dot li").css({listStyle:"none",float:"left",width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"#fff",marginLeft:"10px",cursor:"pointer",fontSize:"0px"})$(".ul_dot li").eq(0).css({backgroundColor:lb.dotColor})$(".ul_dot").css({position:"absolute",bottom:"20px"}).css({left:(this.width()-$(".ul_dot").width())/2})}if(lb.effect){$(".ul_dot li").click(function(){$(".ul_dot li").css({backgroundColor:"#FFF"})$(this).css({backgroundColor:lb.dotColor})n=$(this).html();marginLeft:0nva_img.animate({marginLeft:-(n*imgWidth)})})}else{$(".ul_dot li").click(function(){$(".ul_dot li").css({backgroundColor:"#FFF"})$(this).css({backgroundColor:lb.dotColor})n=$(this).html();imgList.hide();imgList.eq(n).fadeIn()})}if(lb.btn){var l=$("<img src = 'img/l.png'>");var r=$("<img src = 'img/r.png'>");l.appendTo(this);r.appendTo(this);l.css({position:"absolute",top:"45%",left:(this.width()-imgList.width())/2+30,transition:"all 0.5s",cursor:"pointer",opcity:"0.7"})r.css({position:"absolute",top:"45%",right:(this.width()-imgList.width())/2+30,transition:"all 0.5s",cursor:"pointer",opacity:0.7})l.mouseover(function(){l.css({transform:"scale(1.1)",opacity:1})})l.mouseout(function(){l.css({transform:"none",opacity:0.7})})r.mouseover(function(){r.css({transform:"scale(1.1)",opacity:1})})r.mouseout(function(){r.css({transform:"none",opacity:0.7})})r.click(function(){rNext()})l.click(function(){lNext()})}if(lb.autoPlay){var t=setInterval(function(){if(lb.effect){rNext()}else{rNext()}},lb.autoPlaySpeed)var img=$("img")var li=$(".ul_dot li")img.mouseover(function(){clearInterval(t)})img.mouseout(function(){t=setInterval(function(){if(lb.effect){rNext()}else{rNext()}},lb.autoPlaySpeed)})li.mouseover(function(){clearInterval(t)})}}})
